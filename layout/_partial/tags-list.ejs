<!DOCTYPE html>
<html>
    <%- partial('_partial/head') %>
    <body>
        <div class="paper">
            <% console.log("在layout.ejs") %>
            
            <% var tags,tagsInside, categories, categoriesInside; %>
            
            <% if(path == "index.html") { %>
                <div class="index-main">
                    <%- partial('_partial/header') %>
                    <%- body %>
                    <%- partial('_partial/footer') %>
                </div>
            <% } else if(path == "list/index.html") { %>
                <div class="paper-main">
                     <%- partial('_partial/post-header') %> 
                     <%- partial('list') %> 
                     <%- partial('_partial/footer') %>
                </div>
            <% } else { %>
                <div class="paper-main">
                    <%- partial('_partial/post-header') %> 
        
                    <% if(tags = (path == "tags/index.html")) { %>
                            <%- partial('tags') %>
                    <% } %>
                    <% if(categories = (path == "categories/index.html")) { %>
                            <%- partial('categories') %>
                    <% } %>

                    <% if(tagsInside = (path.length > "tags/index.html".length && path.substring(0, 5) == "tags/")) { %>
                            <%- partial('_partial/tags-list') %> 
                    <% } %>
                    <% if(categoriesInside = (path.length > "categories/index.html".length && path.substring(0, 11) == "categories/")) { %>
                        <%- partial('_partial/categories-list') %> 
                    <% } %>
                    
                    <!--说明是文章post页面-->
                    <% if (!tags && !categories && !tagsInside && !categoriesInside) { %>
                        <%- partial('post') %>
                    <% } %>
                    <%- partial('_partial/footer') %>
                </div>
            <% } %>
    </body>
</html>